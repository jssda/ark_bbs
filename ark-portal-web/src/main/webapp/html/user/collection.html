<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>用户中心</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="fly,layui,前端社区">
    <meta name="description" content="Fly社区是模块化前端UI框架Layui的官网社区，致力于为web开发提供强劲动力">
    <link rel="stylesheet" href="../../res/layui/css/layui.css">
    <link rel="stylesheet" href="../../res/css/global.css">
</head>
<body>
<div id="header"></div>

<div class="layui-container fly-marginTop fly-user-main">
    <div id="user_nav"></div>
    <div class="fly-panel fly-panel-user" pad20>
        <div class="layui-tab layui-tab-brief" lay-filter="user">
            <ul class="layui-tab-title" id="LAY_mine">
                <li data-type="mine-jie" lay-id="index" class="layui-this">我发的帖</li>
                <li data-type="collection" data-url="/collection/find/" lay-id="collection">我收藏的帖</li>
            </ul>
            <div class="layui-tab-content" style="padding: 20px 0;">
                <div class="layui-tab-item layui-show">
                    <div id="myPublicView"></div>
                    <div id="publicPage" style="text-align: center"></div>
                </div>
                <div class="layui-tab-item">
                    <div id="myCollectionView"></div>
                    <div id="collectionPage" style="text-align: center"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="footer"></div>

<script type="text/html" id="myPublicTpl">
    {{# if(JSON.stringify(d)==="{}"){ }}
    <!-- 无数据时 -->
    <div class="fly-none">没有相关数据</div>
    {{# } else { }}
    <ul class="mine-view jie-row">
        {{# layui.each(d, function(index, item){ }}
        <li>
            <a class="jie-title" href="http://localhost:8081/html/jie/detail.html?artId={{ item.artId }}"
               target="_blank">{{ item.artTitle }}</a>
            <i>{{ item.create }}</i>
            <em>{{ item.artHotNum }}阅</em>
        </li>
        {{# }) }}
    </ul>
    {{# } }}
</script>
<script type="text/html" id="myCollectionTpl">
    {{# if(JSON.stringify(d)==="{}"){ }}
    <!-- 无数据时 -->
    <div class="fly-none">没有相关数据</div>
    {{# } else { }}
    <ul class="mine-view jie-row">
        {{# layui.each(d, function(index, item){ }}
        <li>
            <a class="jie-title" href="http://localhost:8081/html/jie/detail.html?artId={{ item.article.artId }}"
               target="_blank">{{item.article.artTitle}}</a>
            <i>{{ item.create }}</i>
            <span class="layui-hide" name="artIdSpan">{{ item.colId }}</span>
            <button name="unCollection" class="layui-btn-xs fly-left">取消收藏</button>
        </li>
        {{# }) }}
    </ul>
    {{# } }}
</script>

<script src="../../res/layui/layui.js"></script>
<script src="http://localhost:8081/js/user/loadNav.js"></script>
<script src="http://localhost:8081/js/user/collection.js"></script>

</body>
</html>